import{_ as Ve}from"./CICITLayout.vue_vue_type_script_setup_true_lang-Be0K0LYj.js";import{d as pe,z,l as w,C as de,A as ue,f as m,o as g,n as M,a as e,b as t,g as T,e as v,u as s,w as l,j,v as O,k as le,F as Q,r as te,t as i,i as Te,K as Ee,W as ne,x as ze,c as re,H as ke,y as qe}from"./app-DFzUMkAt.js";import{_ as E,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-BiLKj33t.js";import{_ as G,a as B,b as ce,c as xe}from"./Badge.vue_vue_type_script_setup_true_lang-CfY7Jqsz.js";import{P as ge}from"./plus-BhqtlR_c.js";import{R as he}from"./rotate-ccw-BE5w_f-u.js";import{U as ae,I as Fe,_ as Ge}from"./GestionesGestion.vue_vue_type_script_setup_true_lang-ML9-U6Bz.js";import{U as ie,a as Be}from"./user-x-Cqj2szAG.js";import{c as Y}from"./createLucideIcon-iuQ0M6e2.js";import{S as Se}from"./square-pen-CEmX3r_y.js";import{T as Oe}from"./trash-2-BSbyKDdJ.js";import{_ as He,a as Xe,b as We,c as Ke,d as Ye}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B6P_EGrE.js";import{C as me,a as Ae}from"./circle-x-NDpzye7q.js";import{X as fe}from"./x-DWi15uM3.js";import{P as Ze}from"./pen-Crklshhi.js";import{B as be}from"./book-open-DPRs5yzp.js";import{E as Ue}from"./eye-COITgx8b.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as Je}from"./calendar-Dv5jFsuy.js";import"./Primitive-B83rKbs4.js";import"./useForwardPropsEmits-F_JyhGUn.js";import"./useForwardExpose-yBnb5Qo4.js";import"./DialogPortal-yN2_gXON.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=Y("ActivityIcon",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Y("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Y("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Y("DollarSignIcon",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Y("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=Y("GraduationCapIcon",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=Y("PowerIcon",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Y("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Y("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),st={class:"flex justify-between items-center"},ot={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},rt=["value"],at={class:"flex items-end"},lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},it={class:"flex items-center"},dt={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},nt={class:"ml-3"},ct={class:"text-2xl font-bold text-gray-900 dark:text-white"},ut={class:"flex items-center"},gt={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},mt={class:"ml-3"},pt={class:"text-2xl font-bold text-gray-900 dark:text-white"},xt={class:"flex items-center"},ft={class:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg"},bt={class:"ml-3"},vt={class:"text-2xl font-bold text-gray-900 dark:text-white"},yt={class:"flex items-center"},ht={class:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg"},kt={class:"ml-3"},_t={class:"text-2xl font-bold text-gray-900 dark:text-white"},wt={class:"overflow-x-auto"},$t={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ct={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},Tt={class:"px-4 py-3 whitespace-nowrap"},Et={class:"flex items-center"},St={class:"flex-shrink-0 h-10 w-10"},At={class:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},Ut={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},Mt={class:"ml-4"},It={class:"text-sm font-medium text-gray-900 dark:text-white"},jt={class:"text-sm text-gray-500 dark:text-gray-400"},Dt={class:"px-4 py-3 whitespace-nowrap"},Pt={class:"text-sm text-gray-900 dark:text-white"},Lt={class:"text-sm text-gray-500 dark:text-gray-400"},Rt={class:"px-4 py-3 whitespace-nowrap"},Nt={class:"px-4 py-3 whitespace-nowrap"},Vt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},zt={class:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium"},qt={class:"flex items-center justify-end gap-2"},Ft=["onClick"],Gt=["onClick","title"],Bt=["onClick"],Ot={key:0,class:"px-4 py-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between"},Ht={class:"flex-1 flex justify-between sm:hidden"},Xt=["disabled"],Wt=["disabled"],Kt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Yt={class:"text-sm text-gray-700 dark:text-gray-300"},Zt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Jt=["disabled"],Qt=["onClick"],es=["disabled"],ts={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ss={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},os={class:"relative inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},rs={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},as={class:"sm:flex sm:items-start"},ls={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},is={class:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title"},ds={class:"mt-4 space-y-4"},ns={key:0,class:"mt-1 text-sm text-red-600"},cs={key:0,class:"mt-1 text-sm text-red-600"},us={key:0,class:"mt-1 text-sm text-red-600"},gs={key:0,class:"mt-1 text-sm text-red-600"},ms={key:0,class:"mt-1 text-sm text-red-600"},ps={key:0,class:"mt-1 text-sm text-red-600"},xs={key:0,class:"mt-1 text-sm text-red-600"},fs={key:0},bs={key:0,class:"mt-1 text-sm text-red-600"},vs={key:1,class:"flex items-center"},ys={class:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},hs=["disabled"],ks={key:0,class:"mr-2"},_s={key:1,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ws={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$s={class:"relative inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Cs={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ts={class:"sm:flex sm:items-start"},Es={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Ss={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},As={class:"text-lg leading-6 font-medium text-gray-900 dark:text-white"},Us={class:"mt-2"},Ms={class:"text-sm text-gray-500 dark:text-gray-400"},Is={class:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},js=["disabled"],Ds={key:0,class:"mr-2"},Ps=pe({__name:"UsuariosGestionFixed",props:{usuarios:{},userThemeConfig:{}},setup(ee){const P=ee,I=z(()=>{var n,V;const u=[];(n=P.userThemeConfig)!=null&&n.alto_contraste&&u.push("high-contrast");const o=((V=P.userThemeConfig)==null?void 0:V.tamano_fuente)||14;return o===12?u.push("text-xs"):o===14?u.push("text-sm"):o===16?u.push("text-base"):o===18?u.push("text-lg"):o===20&&u.push("text-xl"),u.join(" ")}),L=w(!1),D=w(!1),A=w(!1),b=w(!1),y=w(1),$=w(10),C=w([]),_=w({registro:"",nombre:"",apellido:"",carnet:"",email:"",telefono:"",rol:"",activo:!0,password:""}),a=w({}),r=w(null),k=w({search:"",rol:"",activo:""}),R=w({title:"",message:"",action:()=>{}}),Z=["RESPONSABLE","ADMINISTRATIVO","TUTOR"],X=z(()=>{let u=C.value;if(k.value.search){const o=k.value.search.toLowerCase();u=u.filter(n=>n.nombre.toLowerCase().includes(o)||n.apellido.toLowerCase().includes(o)||n.registro.toLowerCase().includes(o)||n.carnet.includes(o)||n.email.toLowerCase().includes(o))}if(k.value.rol&&(u=u.filter(o=>o.rol===k.value.rol)),k.value.activo!==""){const o=k.value.activo==="true";u=u.filter(n=>n.activo===o)}return u}),q=z(()=>Math.ceil(X.value.length/$.value)),J=z(()=>{const u=(y.value-1)*$.value,o=u+$.value;return X.value.slice(u,o)}),h=z(()=>{const u=[],o=Math.max(1,y.value-2),n=Math.min(q.value,y.value+2);for(let V=o;V<=n;V++)u.push(V);return u}),c=z(()=>{const u=C.value.length,o=C.value.filter(oe=>oe.activo).length,n=C.value.filter(oe=>oe.rol==="RESPONSABLE").length,V=new Date().getMonth(),Re=new Date().getFullYear(),Ne=C.value.filter(oe=>new Date(oe.created_at).getMonth()===V&&new Date(oe.created_at).getFullYear()===Re).length;return{total:u,activos:o,responsables:n,nuevos_mes:Ne}}),x=async()=>{try{const u=await fetch("/responsable/usuarios-data");if(u.ok){const o=await u.json();C.value=o.users||[]}}catch{C.value=P.usuarios||[]}};de(()=>{x(),document.addEventListener("openCreateModal",()=>{W()})});const N=()=>{_.value={registro:"",nombre:"",apellido:"",carnet:"",email:"",telefono:"",rol:"",activo:!0,password:""},a.value={}},W=()=>{N(),A.value=!1,L.value=!0},U=u=>{r.value=u,_.value={registro:u.registro,nombre:u.nombre,apellido:u.apellido,carnet:u.carnet,email:u.email,telefono:u.telefono||"",rol:u.rol,activo:u.activo,password:""},a.value={},A.value=!0,L.value=!0},F=()=>{L.value=!1,N(),r.value=null},f=async()=>{var u;if(!b.value){b.value=!0,a.value={};try{const o=A.value?"put":"post",n=A.value?`/responsable/usuarios/${(u=r.value)==null?void 0:u.id}`:"/responsable/usuarios";ne.visit(n,{method:o,data:_.value,preserveScroll:!0,onSuccess:()=>{F(),K(A.value?"Usuario actualizado exitosamente":"Usuario creado exitosamente"),x()},onError:V=>{a.value=V,K("Error al procesar la solicitud","error")},onFinish:()=>{b.value=!1}})}catch{b.value=!1,K("Error al procesar la solicitud","error")}}},d=u=>{U(u)},p=u=>{const n=!u.activo?"activar":"desactivar";R.value={title:`${n.charAt(0).toUpperCase()+n.slice(1)} Usuario`,message:`¿Está seguro de ${n} al usuario ${u.nombre} ${u.apellido}?`,action:()=>H(u)},D.value=!0},H=async u=>{if(!b.value){b.value=!0;try{ne.visit(`/responsable/usuarios/${u.id}/toggle-status`,{method:"put",preserveScroll:!0,onSuccess:()=>{u.activo=!u.activo,K(`Usuario ${u.activo?"activado":"desactivado"} exitosamente`),x()},onError:()=>{K("Error al cambiar el estado del usuario","error")},onFinish:()=>{b.value=!1,se()}})}catch{b.value=!1,K("Error al cambiar el estado del usuario","error"),se()}}},Ie=u=>{R.value={title:"Eliminar Usuario",message:`¿Está seguro de eliminar al usuario ${u.nombre} ${u.apellido}? Esta acción no se puede deshacer.`,action:()=>je(u)},D.value=!0},je=async u=>{if(!b.value){b.value=!0;try{ne.visit(`/responsable/usuarios/${u.id}`,{method:"delete",preserveScroll:!0,onSuccess:()=>{K("Usuario eliminado exitosamente"),x()},onError:()=>{K("Error al eliminar el usuario","error")},onFinish:()=>{b.value=!1,se()}})}catch{b.value=!1,K("Error al eliminar el usuario","error"),se()}}},se=()=>{D.value=!1,R.value={title:"",message:"",action:()=>{}}},De=()=>{k.value={search:"",rol:"",activo:""},y.value=1},Pe=u=>{switch(u){case"RESPONSABLE":return"destructive";case"ADMINISTRATIVO":return"default";case"TUTOR":return"secondary";default:return"outline"}},Le=u=>u?new Date(u).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",K=(u,o="success")=>{console.log(`${o.toUpperCase()}: ${u}`)};return ue([()=>k.value.search,()=>k.value.rol,()=>k.value.activo],()=>{y.value=1}),(u,o)=>(g(),m("div",{class:M(["space-y-4",I.value])},[e("div",st,[o[18]||(o[18]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Gestión de Usuarios"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Administrar usuarios del sistema CICIT")],-1)),e("button",{onClick:W,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},[t(s(ge),{class:"w-4 h-4 mr-2"}),o[17]||(o[17]=v(" Nuevo Usuario "))])]),t(s(E),{class:"border border-gray-200 dark:border-gray-700"},{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",ot,[e("div",null,[o[19]||(o[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Buscar ",-1)),j(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>k.value.search=n),type:"text",placeholder:"Nombre, registro o cédula...",class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},null,512),[[O,k.value.search]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Rol ",-1)),j(e("select",{"onUpdate:modelValue":o[1]||(o[1]=n=>k.value.rol=n),class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},[o[20]||(o[20]=e("option",{value:""},"Todos los roles",-1)),(g(),m(Q,null,te(Z,n=>e("option",{key:n,value:n},i(n),9,rt)),64))],512),[[le,k.value.rol]])]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),j(e("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>k.value.activo=n),class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},o[22]||(o[22]=[e("option",{value:""},"Todos",-1),e("option",{value:"true"},"Activos",-1),e("option",{value:"false"},"Inactivos",-1)]),512),[[le,k.value.activo]])]),e("div",at,[e("button",{onClick:De,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"},[t(s(he),{class:"w-4 h-4 mr-2"}),o[24]||(o[24]=v(" Limpiar "))])])])]),_:1})]),_:1}),e("div",lt,[t(s(E),null,{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",it,[e("div",dt,[t(s(ae),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),e("div",nt,[o[25]||(o[25]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Usuarios",-1)),e("p",ct,i(c.value.total),1)])])]),_:1})]),_:1}),t(s(E),null,{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",ut,[e("div",gt,[t(s(ie),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),e("div",mt,[o[26]||(o[26]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Activos",-1)),e("p",pt,i(c.value.activos),1)])])]),_:1})]),_:1}),t(s(E),null,{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",xt,[e("div",ft,[t(s(ye),{class:"h-5 w-5 text-purple-600 dark:text-purple-400"})]),e("div",bt,[o[27]||(o[27]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Responsables",-1)),e("p",vt,i(c.value.responsables),1)])])]),_:1})]),_:1}),t(s(E),null,{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",yt,[e("div",ht,[t(s(ve),{class:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})]),e("div",kt,[o[28]||(o[28]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Nuevos (Mes)",-1)),e("p",_t,i(c.value.nuevos_mes),1)])])]),_:1})]),_:1})]),t(s(E),null,{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(B),{class:"flex items-center gap-2"},{default:l(()=>[t(s(ae),{class:"h-5 w-5"}),o[29]||(o[29]=v(" Lista de Usuarios "))]),_:1,__:[29]}),t(s(ce),null,{default:l(()=>[v(i(X.value.length)+" usuarios encontrados ",1)]),_:1})]),_:1}),t(s(S),{class:"p-0"},{default:l(()=>[e("div",wt,[e("table",$t,[o[30]||(o[30]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Usuario "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Contacto "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Rol "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Estado "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Último Acceso "),e("th",{scope:"col",class:"relative px-4 py-3"},[e("span",{class:"sr-only"},"Acciones")])])],-1)),e("tbody",Ct,[(g(!0),m(Q,null,te(J.value,n=>(g(),m("tr",{key:n.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",Tt,[e("div",Et,[e("div",St,[e("div",At,[e("span",Ut,i(n.nombre.charAt(0))+i(n.apellido.charAt(0)),1)])]),e("div",Mt,[e("div",It,i(n.nombre)+" "+i(n.apellido),1),e("div",jt,i(n.registro),1)])])]),e("td",Dt,[e("div",Pt,i(n.carnet),1),e("div",Lt,i(n.telefono||"Sin teléfono"),1)]),e("td",Rt,[t(xe,{variant:Pe(n.rol)},{default:l(()=>[v(i(n.rol),1)]),_:2},1032,["variant"])]),e("td",Nt,[t(xe,{variant:n.activo?"default":"destructive"},{default:l(()=>[v(i(n.activo?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])]),e("td",Vt,i(Le(n.ultimo_acceso)),1),e("td",zt,[e("div",qt,[e("button",{onClick:V=>d(n),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",title:"Editar usuario"},[t(s(Se),{class:"h-4 w-4"})],8,Ft),e("button",{onClick:V=>p(n),class:M(n.activo?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"),title:n.activo?"Desactivar usuario":"Activar usuario"},[t(s(et),{class:"h-4 w-4"})],10,Gt),e("button",{onClick:V=>Ie(n),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Eliminar usuario"},[t(s(Oe),{class:"h-4 w-4"})],8,Bt)])])]))),128))])])]),q.value>1?(g(),m("div",Ot,[e("div",Ht,[e("button",{onClick:o[3]||(o[3]=n=>y.value--),disabled:y.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Anterior ",8,Xt),e("button",{onClick:o[4]||(o[4]=n=>y.value++),disabled:y.value===q.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Siguiente ",8,Wt)]),e("div",Kt,[e("div",null,[e("p",Yt," Mostrando "+i((y.value-1)*$.value+1)+" a "+i(Math.min(y.value*$.value,X.value.length))+" de "+i(X.value.length)+" resultados ",1)]),e("div",null,[e("nav",Zt,[e("button",{onClick:o[5]||(o[5]=n=>y.value--),disabled:y.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[t(s(_e),{class:"h-5 w-5 rotate-90"})],8,Jt),(g(!0),m(Q,null,te(h.value,n=>(g(),m("button",{key:n,onClick:V=>y.value=n,class:M(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",n===y.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},i(n),11,Qt))),128)),e("button",{onClick:o[6]||(o[6]=n=>y.value++),disabled:y.value===q.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[t(s(_e),{class:"h-5 w-5 -rotate-90"})],8,es)])])])])):T("",!0)]),_:1})]),_:1}),L.value?(g(),m("div",ts,[e("div",ss,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:F}),o[43]||(o[43]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",os,[e("form",{onSubmit:Te(f,["prevent"])},[e("div",rs,[e("div",as,[e("div",ls,[e("h3",is,i(A.value?"Editar Usuario":"Crear Usuario"),1),e("div",ds,[e("div",null,[o[31]||(o[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Registro *",-1)),j(e("input",{"onUpdate:modelValue":o[7]||(o[7]=n=>_.value.registro=n),type:"text",required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.registro}])},null,2),[[O,_.value.registro]]),a.value.registro?(g(),m("p",ns,i(a.value.registro),1)):T("",!0)]),e("div",null,[o[32]||(o[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Nombre *",-1)),j(e("input",{"onUpdate:modelValue":o[8]||(o[8]=n=>_.value.nombre=n),type:"text",required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.nombre}])},null,2),[[O,_.value.nombre]]),a.value.nombre?(g(),m("p",cs,i(a.value.nombre),1)):T("",!0)]),e("div",null,[o[33]||(o[33]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Apellido *",-1)),j(e("input",{"onUpdate:modelValue":o[9]||(o[9]=n=>_.value.apellido=n),type:"text",required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.apellido}])},null,2),[[O,_.value.apellido]]),a.value.apellido?(g(),m("p",us,i(a.value.apellido),1)):T("",!0)]),e("div",null,[o[34]||(o[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Carnet/Cédula *",-1)),j(e("input",{"onUpdate:modelValue":o[10]||(o[10]=n=>_.value.carnet=n),type:"text",required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.carnet}])},null,2),[[O,_.value.carnet]]),a.value.carnet?(g(),m("p",gs,i(a.value.carnet),1)):T("",!0)]),e("div",null,[o[35]||(o[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email *",-1)),j(e("input",{"onUpdate:modelValue":o[11]||(o[11]=n=>_.value.email=n),type:"email",required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.email}])},null,2),[[O,_.value.email]]),a.value.email?(g(),m("p",ms,i(a.value.email),1)):T("",!0)]),e("div",null,[o[36]||(o[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Teléfono",-1)),j(e("input",{"onUpdate:modelValue":o[12]||(o[12]=n=>_.value.telefono=n),type:"text",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.telefono}])},null,2),[[O,_.value.telefono]]),a.value.telefono?(g(),m("p",ps,i(a.value.telefono),1)):T("",!0)]),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Rol *",-1)),j(e("select",{"onUpdate:modelValue":o[13]||(o[13]=n=>_.value.rol=n),required:"",class:M(["mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",{"border-red-500":a.value.rol}])},o[37]||(o[37]=[e("option",{value:""},"Seleccionar rol",-1),e("option",{value:"RESPONSABLE"},"Responsable",-1),e("option",{value:"ADMINISTRATIVO"},"Administrativo",-1),e("option",{value:"TUTOR"},"Tutor",-1)]),2),[[le,_.value.rol]]),a.value.rol?(g(),m("p",xs,i(a.value.rol),1)):T("",!0)]),A.value?T("",!0):(g(),m("div",fs,[o[39]||(o[39]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Contraseña * ",-1)),j(e("input",{"onUpdate:modelValue":o[14]||(o[14]=n=>_.value.password=n),type:"password",id:"password",name:"password",required:"",minlength:"8",placeholder:"Ingrese la contraseña para el usuario",class:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white transition-all duration-200"},null,512),[[O,_.value.password]]),a.value.password?(g(),m("p",bs,i(a.value.password),1)):T("",!0),o[40]||(o[40]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," La contraseña debe tener al menos 8 caracteres ",-1))])),A.value?(g(),m("div",vs,[j(e("input",{"onUpdate:modelValue":o[15]||(o[15]=n=>_.value.activo=n),type:"checkbox",id:"activo",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[Ee,_.value.activo]]),o[41]||(o[41]=e("label",{for:"activo",class:"ml-2 block text-sm text-gray-900 dark:text-white"}," Usuario activo ",-1))])):T("",!0)])])])]),e("div",ys,[e("button",{type:"submit",disabled:b.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-blue-500 text-base font-medium text-white hover:bg-blue-700 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[b.value?(g(),m("span",ks,o[42]||(o[42]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},null,-1)]))):T("",!0),v(" "+i(A.value?"Actualizar":"Crear"),1)],8,hs),e("button",{type:"button",onClick:F,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-white dark:border-gray-500 dark:hover:bg-gray-700"}," Cancelar ")])],32)])])])):T("",!0),D.value?(g(),m("div",_s,[e("div",ws,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:se}),o[46]||(o[46]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",$s,[e("div",Cs,[e("div",Ts,[e("div",Es,[t(s(tt),{class:"h-6 w-6 text-red-600"})]),e("div",Ss,[e("h3",As,i(R.value.title),1),e("div",Us,[e("p",Ms,i(R.value.message),1)])])])]),e("div",Is,[e("button",{onClick:o[16]||(o[16]=(...n)=>R.value.action&&R.value.action(...n)),disabled:b.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[b.value?(g(),m("span",Ds,o[44]||(o[44]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},null,-1)]))):T("",!0),o[45]||(o[45]=v(" Confirmar "))],8,js),e("button",{type:"button",onClick:se,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-white dark:border-gray-500 dark:hover:bg-gray-700"}," Cancelar ")])])])])):T("",!0)],2))}}),Ls={class:"flex justify-between items-center"},Rs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ns={class:"flex items-end"},Vs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},zs={class:"flex items-center"},qs={class:"p-2 bg-teal-100 dark:bg-teal-900 rounded-lg"},Fs={class:"ml-3"},Gs={class:"text-2xl font-bold text-gray-900 dark:text-white"},Bs={class:"flex items-center"},Os={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},Hs={class:"ml-3"},Xs={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ws={class:"flex items-center"},Ks={class:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg"},Ys={class:"ml-3"},Zs={class:"text-2xl font-bold text-gray-900 dark:text-white"},Js={key:0,class:"flex justify-center items-center py-8"},Qs={class:"overflow-x-auto"},eo={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},to={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},so={class:"px-6 py-4 whitespace-nowrap"},oo={class:"text-sm font-medium text-gray-900 dark:text-white"},ro={class:"px-6 py-4"},ao={class:"text-sm text-gray-900 dark:text-white"},lo={class:"px-6 py-4 whitespace-nowrap"},io={class:"text-sm text-gray-900 dark:text-white"},no={class:"font-medium"},co={key:0,class:"text-gray-500 dark:text-gray-400"},uo={class:"px-6 py-4 whitespace-nowrap"},go={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},mo={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},po={class:"flex items-center justify-end space-x-2"},xo=["onClick"],fo=["onClick","title"],bo=["onClick"],vo={key:0,class:"text-center py-12"},yo={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},ho={key:0,class:"mt-6"},ko=["disabled"],_o={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},wo=["disabled"],$o={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Co={key:0},To={class:"flex items-center"},Eo=["disabled"],So={class:"flex justify-end space-x-3 pt-4"},Ao=["disabled"],Uo=["disabled"],Mo={key:0,class:"flex items-center"},Io={key:1},jo={class:"flex items-center"},Do={class:"text-sm font-medium"},Po=pe({__name:"TiposParticipanteGestion",props:{userThemeConfig:{},tiposParticipante:{},estadisticas:{},filters:{}},setup(ee){const P=ee,I=z(()=>{var p,H;const f=[];(p=P.userThemeConfig)!=null&&p.alto_contraste&&f.push("high-contrast");const d=((H=P.userThemeConfig)==null?void 0:H.tamano_fuente)||14;return d===12?f.push("text-xs"):d===14?f.push("text-sm"):d===16?f.push("text-base"):d===18?f.push("text-lg"):d===20&&f.push("text-xl"),f.join(" ")}),L=w([]),D=w(!0),A=w(!1),b=w(!1),y=w(!1),$=w({}),C=w({search:"",activo:""}),_=w({total:0,activos:0,conParticipantes:0}),a=w({show:!1,type:"success",message:""}),r=ze({id:null,codigo:"",descripcion:"",activo:!0});ue(()=>r.codigo,f=>{f&&f!==f.toUpperCase()&&(r.codigo=f.toUpperCase())});const k=z(()=>{let f=L.value;if(C.value.search){const d=C.value.search.toLowerCase();f=f.filter(p=>p.codigo.toLowerCase().includes(d)||p.descripcion.toLowerCase().includes(d))}if(C.value.activo!==""){const d=C.value.activo==="true";f=f.filter(p=>p.activo===d)}return f}),R=z(()=>C.value.search||C.value.activo!==""),Z=async()=>{var f;try{D.value=!0;const d=await fetch("/responsable/tipos-participante",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(d.ok){const p=await d.json();L.value=((f=p.tiposParticipante)==null?void 0:f.data)||[],_.value=p.estadisticas||{total:0,activos:0,conParticipantes:0}}else console.error("Error loading tipos:",d.status,d.statusText),U("Error al cargar los tipos de participante","error")}catch(d){console.error("Error loading tipos:",d),U("Error al cargar los tipos de participante","error")}finally{D.value=!1}},X=()=>{b.value=!1,r.reset(),r.codigo="",r.descripcion="",r.activo=!0,$.value={},A.value=!0},q=f=>{b.value=!0,r.id=f.id,r.codigo=f.codigo,r.descripcion=f.descripcion,r.activo=f.activo,$.value={},A.value=!0},J=()=>{A.value=!1,r.reset(),$.value={}},h=async()=>{var f;if(!y.value)try{y.value=!0,$.value={};const d={descripcion:r.descripcion,activo:r.activo};(!b.value||r.codigo!==((f=L.value.find(p=>p.id===r.id))==null?void 0:f.codigo))&&(d.codigo=r.codigo),b.value?await r.put(`/responsable/tipos-participante/${r.id}`,{...d,preserveScroll:!0,onSuccess:()=>{J(),Z(),U("Tipo de participante actualizado exitosamente","success")},onError:p=>{$.value=p,console.error("Validation errors:",p)}}):await r.post("/responsable/tipos-participante",{...d,preserveScroll:!0,onSuccess:()=>{J(),Z(),U("Tipo de participante creado exitosamente","success")},onError:p=>{$.value=p,console.error("Validation errors:",p)}})}catch(d){console.error("Submit error:",d),U("Error al procesar la solicitud","error")}finally{y.value=!1}},c=async f=>{try{ne.visit(`/responsable/tipos-participante/${f.id}/toggle-activo`,{method:"post",preserveScroll:!0,onSuccess:()=>{Z(),U(f.activo?"Tipo de participante desactivado exitosamente":"Tipo de participante activado exitosamente","success")},onError:()=>{U("Error al cambiar el estado del tipo de participante","error")}})}catch(d){console.error("Toggle status error:",d),U("Error al cambiar el estado del tipo de participante","error")}},x=async f=>{var d;if(confirm(`¿Seguro que deseas eliminar el tipo de participante "${f.codigo}"? Esta acción no se puede deshacer.`))try{y.value=!0;const p=await fetch(`/responsable/tipos-participante/${f.id}`,{method:"DELETE",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((d=document.querySelector("meta[name=csrf-token]"))==null?void 0:d.content)||""}});if(p.ok)U("Tipo de participante eliminado exitosamente","success"),window.location.reload();else{let H=null;try{H=await p.json()}catch{}U(H&&H.message||"Error al eliminar el tipo de participante","error")}}catch{U("Error al eliminar el tipo de participante","error")}finally{y.value=!1}},N=()=>{C.value={search:"",activo:""}},W=f=>f?new Date(f).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"N/A",U=(f,d="success")=>{a.value={show:!0,type:d,message:f},setTimeout(()=>{F()},5e3)},F=()=>{a.value.show=!1};return ue(()=>[C.value.search,C.value.activo],()=>{},{deep:!0}),de(()=>{Z()}),(f,d)=>(g(),m("div",{class:M(["space-y-4",I.value])},[e("div",Ls,[d[7]||(d[7]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Gestión de Tipos de Participante"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Administrar tipos de participante del sistema CICIT")],-1)),e("button",{onClick:X,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},[t(s(ge),{class:"w-4 h-4 mr-2"}),d[6]||(d[6]=v(" Nuevo Tipo de Participante "))])]),t(E,{class:"border border-gray-200 dark:border-gray-700"},{default:l(()=>[t(S,{class:"p-4"},{default:l(()=>[e("div",Rs,[e("div",null,[d[8]||(d[8]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Buscar ",-1)),j(e("input",{"onUpdate:modelValue":d[0]||(d[0]=p=>C.value.search=p),type:"text",placeholder:"Código o descripción...",class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},null,512),[[O,C.value.search]])]),e("div",null,[d[10]||(d[10]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),j(e("select",{"onUpdate:modelValue":d[1]||(d[1]=p=>C.value.activo=p),class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},d[9]||(d[9]=[e("option",{value:""},"Todos",-1),e("option",{value:"true"},"Activos",-1),e("option",{value:"false"},"Inactivos",-1)]),512),[[le,C.value.activo]])]),e("div",Ns,[e("button",{onClick:N,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"},[t(s(he),{class:"w-4 h-4 mr-2"}),d[11]||(d[11]=v(" Limpiar "))])])])]),_:1})]),_:1}),e("div",Vs,[t(E,null,{default:l(()=>[t(S,{class:"p-4"},{default:l(()=>[e("div",zs,[e("div",qs,[t(s(ie),{class:"h-5 w-5 text-teal-600 dark:text-teal-400"})]),e("div",Fs,[d[12]||(d[12]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Tipos",-1)),e("p",Gs,i(_.value.total),1)])])]),_:1})]),_:1}),t(E,null,{default:l(()=>[t(S,{class:"p-4"},{default:l(()=>[e("div",Bs,[e("div",Os,[t(s(me),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),e("div",Hs,[d[13]||(d[13]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Activos",-1)),e("p",Xs,i(_.value.activos),1)])])]),_:1})]),_:1}),t(E,null,{default:l(()=>[t(S,{class:"p-4"},{default:l(()=>[e("div",Ws,[e("div",Ks,[t(s(ae),{class:"h-5 w-5 text-purple-600 dark:text-purple-400"})]),e("div",Ys,[d[14]||(d[14]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Con Participantes",-1)),e("p",Zs,i(_.value.conParticipantes),1)])])]),_:1})]),_:1})]),D.value?(g(),m("div",Js,d[15]||(d[15]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):(g(),re(E,{key:1},{default:l(()=>[t(S,{class:"p-0"},{default:l(()=>[e("div",Qs,[e("table",eo,[d[16]||(d[16]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Código "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Descripción "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Participantes "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Estado "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Fecha Creación "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Acciones")])])],-1)),e("tbody",to,[(g(!0),m(Q,null,te(k.value,p=>(g(),m("tr",{key:p.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200"},[e("td",so,[e("div",oo,i(p.codigo),1)]),e("td",ro,[e("div",ao,i(p.descripcion),1)]),e("td",lo,[e("div",io,[e("span",no,i(p.participantes_count||0),1),p.participantes_activos_count!==void 0?(g(),m("span",co," ("+i(p.participantes_activos_count)+" activos) ",1)):T("",!0)])]),e("td",uo,[e("span",{class:M([p.activo?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200","inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(p.activo?"Activo":"Inactivo"),3)]),e("td",go,i(W(p.created_at)),1),e("td",mo,[e("div",po,[e("button",{onClick:H=>q(p),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 p-1 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Editar"},[t(s(Ze),{class:"w-4 h-4"})],8,xo),e("button",{onClick:H=>c(p),class:M([p.activo?"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20","transition-colors duration-200 p-1 rounded-md"]),title:p.activo?"Desactivar":"Activar"},[(g(),re(ke(p.activo?s(Be):s(ie)),{class:"w-4 h-4"}))],10,fo),e("button",{onClick:H=>x(p),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-200 p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20",title:"Eliminar"},[t(s(fe),{class:"w-4 h-4"})],8,bo)])])]))),128))])]),k.value.length===0?(g(),m("div",vo,[t(s(ie),{class:"mx-auto h-12 w-12 text-gray-400"}),d[18]||(d[18]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No hay tipos de participante",-1)),e("p",yo,i(R.value?"No se encontraron resultados con los filtros aplicados.":"Comienza creando un nuevo tipo de participante."),1),R.value?T("",!0):(g(),m("div",ho,[e("button",{onClick:X,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[t(s(ge),{class:"w-4 h-4 mr-2"}),d[17]||(d[17]=v(" Nuevo Tipo de Participante "))])]))])):T("",!0)])]),_:1})]),_:1})),t(He,{open:A.value,"onUpdate:open":d[5]||(d[5]=p=>A.value=p)},{default:l(()=>[t(Xe,{class:"sm:max-w-md"},{default:l(()=>[t(We,null,{default:l(()=>[t(Ke,null,{default:l(()=>[v(i(b.value?"Editar Tipo de Participante":"Nuevo Tipo de Participante"),1)]),_:1}),t(Ye,null,{default:l(()=>[v(i(b.value?"Modifica los datos del tipo de participante.":"Completa los datos para crear un nuevo tipo de participante."),1)]),_:1})]),_:1}),e("form",{onSubmit:Te(h,["prevent"]),class:"space-y-4"},[e("div",null,[d[19]||(d[19]=e("label",{for:"codigo",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Código * ",-1)),j(e("input",{id:"codigo","onUpdate:modelValue":d[2]||(d[2]=p=>s(r).codigo=p),type:"text",maxlength:"10",class:M(["mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm dark:bg-gray-800 dark:text-white uppercase",{"border-red-500":$.value.codigo}]),placeholder:"Ej: ESTUDIANTE",required:"",disabled:y.value||b.value},null,10,ko),[[O,s(r).codigo]]),$.value.codigo?(g(),m("p",_o,i($.value.codigo),1)):T("",!0)]),e("div",null,[d[20]||(d[20]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Descripción * ",-1)),j(e("input",{id:"descripcion","onUpdate:modelValue":d[3]||(d[3]=p=>s(r).descripcion=p),type:"text",maxlength:"255",class:M(["mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm dark:bg-gray-800 dark:text-white",{"border-red-500":$.value.descripcion}]),placeholder:"Ej: Estudiante de pregrado",required:"",disabled:y.value},null,10,wo),[[O,s(r).descripcion]]),$.value.descripcion?(g(),m("p",$o,i($.value.descripcion),1)):T("",!0)]),b.value?(g(),m("div",Co,[e("label",To,[j(e("input",{"onUpdate:modelValue":d[4]||(d[4]=p=>s(r).activo=p),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:y.value},null,8,Eo),[[Ee,s(r).activo]]),d[21]||(d[21]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Activo",-1))])])):T("",!0),e("div",So,[e("button",{type:"button",onClick:J,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:y.value}," Cancelar ",8,Ao),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:y.value},[y.value?(g(),m("span",Mo,d[22]||(d[22]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),v(" Procesando... ")]))):(g(),m("span",Io,i(b.value?"Actualizar":"Crear"),1))],8,Uo)])],32)]),_:1})]),_:1},8,["open"]),a.value.show?(g(),m("div",{key:2,class:M(["fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md transition-all duration-300 transform",a.value.type==="success"?"bg-green-100 border border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":a.value.type==="error"?"bg-red-100 border border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200":"bg-blue-100 border border-blue-200 text-blue-800 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-200"])},[e("div",jo,[(g(),re(ke(a.value.type==="success"?s(me):a.value.type==="error"?s(Ae):s(Fe)),{class:"w-5 h-5 mr-2"})),e("p",Do,i(a.value.message),1),e("button",{onClick:F,class:"ml-auto pl-3"},[t(s(fe),{class:"w-4 h-4"})])])],2)):T("",!0)],2))}}),Lo={class:"flex justify-between items-center"},Ro={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},No={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},Vo={class:"flex items-center"},zo={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},qo={class:"ml-3"},Fo={class:"text-xl font-semibold text-gray-900 dark:text-white"},Go={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},Bo={class:"flex items-center"},Oo={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},Ho={class:"ml-3"},Xo={class:"text-xl font-semibold text-gray-900 dark:text-white"},Wo={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},Ko={class:"flex items-center"},Yo={class:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg"},Zo={class:"ml-3"},Jo={class:"text-xl font-semibold text-gray-900 dark:text-white"},Qo={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},er={class:"flex items-center"},tr={class:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg"},sr={class:"ml-3"},or={class:"text-xl font-semibold text-gray-900 dark:text-white"},rr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ar={class:"flex items-end"},lr={key:0,class:"flex justify-center py-8"},ir={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},dr={class:"mb-4"},nr=["src","alt"],cr={class:"mb-4"},ur={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},gr={class:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2"},mr={class:"space-y-1"},pr={class:"text-sm text-gray-500 dark:text-gray-400"},xr={class:"text-sm text-gray-500 dark:text-gray-400"},fr={class:"text-sm text-gray-500 dark:text-gray-400"},br={class:"mb-4"},vr={class:"flex justify-between items-center"},yr={class:"flex space-x-2"},hr=["onClick"],kr=["onClick"],_r=["onClick"],wr={key:2,class:"text-center py-12"},$r={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Cr={class:"p-4"},Tr={class:"flex items-start"},Er={class:"flex-shrink-0"},Sr={class:"ml-3 w-0 flex-1 pt-0.5"},Ar={class:"text-sm font-medium text-gray-900 dark:text-white"},Ur={class:"ml-4 flex-shrink-0 flex"},Mr=pe({__name:"CursosGestion",props:{userThemeConfig:{}},setup(ee){const P=ee,I=z(()=>{var x,N;const h=[];(x=P.userThemeConfig)!=null&&x.alto_contraste&&h.push("high-contrast");const c=((N=P.userThemeConfig)==null?void 0:N.tamano_fuente)||14;return c===12?h.push("text-xs"):c===14?h.push("text-sm"):c===16?h.push("text-base"):c===18?h.push("text-lg"):c===20&&h.push("text-xl"),h.join(" ")}),L=w([]),D=w(!0),A=w(!1),b=w({search:"",activo:""}),y=w({total:0,activos:0,en_progreso:0,con_inscripciones:0}),$=w({show:!1,type:"success",message:""}),C=z(()=>b.value.search||b.value.activo!==""),_=z(()=>{let h=L.value;if(b.value.search){const c=b.value.search.toLowerCase();h=h.filter(x=>{var N,W,U,F,f;return x.nombre.toLowerCase().includes(c)||((N=x.descripcion)==null?void 0:N.toLowerCase().includes(c))||((U=(W=x.tutor)==null?void 0:W.nombre)==null?void 0:U.toLowerCase().includes(c))||((f=(F=x.tutor)==null?void 0:F.apellido)==null?void 0:f.toLowerCase().includes(c))})}if(b.value.activo!==""){const c=b.value.activo==="true";h=h.filter(x=>x.activo===c)}return h}),a=async()=>{var h;try{D.value=!0;const c=await fetch("/responsable/cursos",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(c.ok){const x=await c.json();L.value=((h=x.cursosData)==null?void 0:h.data)||[],y.value=x.cursosEstadisticas||{total:0,activos:0,en_progreso:0,con_inscripciones:0},console.log("✅ Cursos loaded:",L.value.length)}else console.error("Error loading cursos:",c.status,c.statusText),q("Error al cargar los cursos","error")}catch(c){console.error("Error loading cursos:",c),q("Error al cargar los cursos","error")}finally{D.value=!1}},r=()=>{window.location.href="/responsable/cursos/create"},k=h=>{window.location.href=`/responsable/cursos/${h.id}/edit`},R=h=>{window.location.href=`/responsable/cursos/${h.id}`},Z=async h=>{var c;if(!A.value)try{A.value=!0;const x=await fetch(`/responsable/cursos/${h.id}/toggle-activo`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""}});if(x.ok)h.activo=!h.activo,h.activo?y.value.activos++:y.value.activos--,q(`Curso ${h.activo?"activado":"desactivado"} exitosamente`,"success");else{const N=await x.json().catch(()=>({}));q(N.message||`Error al ${h.activo?"desactivar":"activar"} el curso`,"error")}}catch(x){console.error("Error toggling curso status:",x),q("Error de conectividad","error")}finally{A.value=!1}},X=()=>{b.value={search:"",activo:""}},q=(h,c="success")=>{$.value={show:!0,type:c,message:h},setTimeout(()=>{J()},5e3)},J=()=>{$.value.show=!1};return de(()=>{a(),P.userThemeConfig&&(P.userThemeConfig.tema_id===2?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}),(h,c)=>(g(),m("div",{class:M(["space-y-4",I.value])},[e("div",Lo,[c[4]||(c[4]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Gestión de Cursos"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Administrar cursos del sistema CICIT")],-1)),e("button",{onClick:r,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},[t(s(ge),{class:"w-4 h-4 mr-2"}),c[3]||(c[3]=v(" Nuevo Curso "))])]),e("div",Ro,[e("div",No,[e("div",Vo,[e("div",zo,[t(s(be),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),e("div",qo,[c[5]||(c[5]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Cursos",-1)),e("p",Fo,i(y.value.total),1)])])]),e("div",Go,[e("div",Bo,[e("div",Oo,[t(s(me),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),e("div",Ho,[c[6]||(c[6]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Activos",-1)),e("p",Xo,i(y.value.activos),1)])])]),e("div",Wo,[e("div",Ko,[e("div",Yo,[t(s(Qe),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),e("div",Zo,[c[7]||(c[7]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"En Progreso",-1)),e("p",Jo,i(y.value.en_progreso),1)])])]),e("div",Qo,[e("div",er,[e("div",tr,[t(s(ae),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),e("div",sr,[c[8]||(c[8]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Con Inscripciones",-1)),e("p",or,i(y.value.con_inscripciones),1)])])])]),t(s(E),{class:"border border-gray-200 dark:border-gray-700"},{default:l(()=>[t(s(S),{class:"p-4"},{default:l(()=>[e("div",rr,[e("div",null,[c[9]||(c[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Buscar ",-1)),j(e("input",{"onUpdate:modelValue":c[0]||(c[0]=x=>b.value.search=x),type:"text",placeholder:"Nombre del curso...",class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},null,512),[[O,b.value.search]])]),e("div",null,[c[11]||(c[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),j(e("select",{"onUpdate:modelValue":c[1]||(c[1]=x=>b.value.activo=x),class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm dark:bg-gray-800 dark:text-white"},c[10]||(c[10]=[e("option",{value:""},"Todos",-1),e("option",{value:"true"},"Activos",-1),e("option",{value:"false"},"Inactivos",-1)]),512),[[le,b.value.activo]])]),e("div",ar,[e("button",{onClick:X,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},[t(s(he),{class:"w-4 h-4 mr-2"}),c[12]||(c[12]=v(" Limpiar "))])])])]),_:1})]),_:1}),D.value?(g(),m("div",lr,c[13]||(c[13]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):_.value.length>0?(g(),m("div",ir,[(g(!0),m(Q,null,te(_.value,x=>(g(),re(s(E),{key:x.id,class:"border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-200"},{default:l(()=>[t(s(S),{class:"p-6"},{default:l(()=>{var N,W;return[e("div",dr,[e("img",{src:x.logo_url||"/images/default-course.svg",alt:x.nombre,class:"w-full h-32 object-cover rounded-lg bg-gray-100 dark:bg-gray-700",onError:c[2]||(c[2]=U=>{const F=U.target;F&&(F.src="/images/default-course.svg")}),loading:"lazy"},null,40,nr)]),e("div",cr,[e("h3",ur,i(x.nombre),1),e("p",gr,i(x.descripcion||"Sin descripción"),1),e("div",mr,[e("p",pr,[c[14]||(c[14]=e("strong",null,"Tutor:",-1)),v(" "+i((N=x.tutor)==null?void 0:N.nombre)+" "+i((W=x.tutor)==null?void 0:W.apellido),1)]),e("p",xr,[c[15]||(c[15]=e("strong",null,"Duración:",-1)),v(" "+i(x.duracion_horas)+" horas ",1)]),e("p",fr,[c[16]||(c[16]=e("strong",null,"Cupos:",-1)),v(" "+i(x.cupos_ocupados||0)+"/"+i(x.cupos_totales),1)])])]),e("div",br,[e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x.activo?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100"])},i(x.activo?"Activo":"Inactivo"),3)]),e("div",vr,[e("div",yr,[e("button",{onClick:U=>k(x),class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},[t(s(Se),{class:"w-3 h-3 mr-1"}),c[17]||(c[17]=v(" Editar "))],8,hr),e("button",{onClick:U=>R(x),class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"},[t(s(Ue),{class:"w-3 h-3 mr-1"}),c[18]||(c[18]=v(" Ver "))],8,kr)]),e("button",{onClick:U=>Z(x),class:M(["inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded transition-colors duration-200",x.activo?"text-red-700 bg-red-100 hover:bg-red-200 focus:ring-red-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"])},i(x.activo?"Desactivar":"Activar"),11,_r)])]}),_:2},1024)]),_:2},1024))),128))])):(g(),m("div",wr,[t(s(be),{class:"mx-auto h-12 w-12 text-gray-400"}),c[19]||(c[19]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No hay cursos",-1)),e("p",$r,i(C.value?"No se encontraron cursos con los filtros aplicados.":"Comienza creando un nuevo curso."),1)])),$.value.show?(g(),m("div",{key:3,class:M(["fixed bottom-4 right-4 max-w-sm w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",$.value.type==="success"?"border-l-4 border-green-400":"border-l-4 border-red-400"])},[e("div",Cr,[e("div",Tr,[e("div",Er,[$.value.type==="success"?(g(),re(s(me),{key:0,class:"h-6 w-6 text-green-400"})):(g(),re(s(Ae),{key:1,class:"h-6 w-6 text-red-400"}))]),e("div",Sr,[e("p",Ar,i($.value.message),1)]),e("div",Ur,[e("button",{onClick:J,class:"bg-white dark:bg-gray-800 rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[t(s(fe),{class:"h-5 w-5"})])])])])],2)):T("",!0)],2))}}),Ir=Me(Mr,[["__scopeId","data-v-05f86cc7"]]),jr={class:"flex items-center justify-between mb-1"},Dr={class:"text-lg font-bold text-gray-900 dark:text-white"},Pr={class:"text-gray-600 dark:text-gray-400 text-xs"},Lr={class:"flex items-center gap-2"},Rr={class:"transition-all duration-300 ease-in-out"},Nr={key:0,class:"space-y-1"},Vr={class:"grid gap-1 md:grid-cols-2 lg:grid-cols-4"},zr={class:"text-lg font-bold"},qr={class:"text-lg font-bold"},Fr={class:"text-xs text-muted-foreground"},Gr={class:"text-green-600"},Br={class:"text-lg font-bold"},Or={class:"text-lg font-bold"},Hr={class:"text-xs text-muted-foreground"},Xr={class:"text-green-600"},Wr={class:"grid gap-1 md:grid-cols-2 lg:grid-cols-4"},Kr={class:"text-lg font-bold"},Yr={class:"text-xs text-muted-foreground"},Zr={class:"text-blue-600"},Jr={class:"text-lg font-bold text-orange-600"},Qr={class:"text-lg font-bold"},ea={class:"text-xs text-muted-foreground"},ta={class:"text-green-600"},sa={class:"text-lg font-bold"},oa={class:"grid gap-1 lg:grid-cols-2"},ra={class:"space-y-2"},aa={class:"flex items-center gap-3"},la={class:"text-xs font-medium"},ia={class:"flex items-center gap-2"},da={class:"text-sm font-bold"},na={class:"space-y-2"},ca={class:"flex-1 min-w-0"},ua={class:"text-xs text-gray-900 truncate"},ga={class:"text-xs text-gray-500"},ma={class:"grid gap-1 md:grid-cols-3"},pa={class:"space-y-1"},xa={class:"text-lg font-bold"},fa={class:"space-y-1"},ba={class:"text-lg font-bold"},va={class:"space-y-1"},ya={class:"text-lg font-bold"},ha={key:1},ka={key:2,class:"space-y-4"},_a={key:3,class:"space-y-4"},wa={class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 text-center"},$a={key:4,class:"space-y-4"},Ca={class:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-6 text-center"},Ta={key:5,class:"space-y-4"},Ea={class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 text-center"},Sa={key:6,class:"space-y-4"},Aa={class:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-6 text-center"},Ua={key:7,class:"space-y-4"},Ma={key:8,class:"space-y-4"},Ia={key:9,class:"space-y-4"},ja={class:"bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800 rounded-lg p-6 text-center"},Da=pe({__name:"ResponsableDashboard",props:{estadisticas:{},graficos:{},userThemeConfig:{},usuarios:{},cursosData:{},cursosFilters:{},tutores:{},gestiones:{},tiposParticipante:{},cursosEstadisticas:{}},setup(ee){const P=ee,I=w("dashboard"),L=w("Dashboard del Responsable"),D=(a,r)=>{I.value=a,L.value=r};window.setDashboardContent=D;const A=[{title:"Dashboard del Responsable",href:"/dashboard"}],b=z(()=>{var k,R;const a=[];(k=P.userThemeConfig)!=null&&k.alto_contraste&&a.push("high-contrast");const r=((R=P.userThemeConfig)==null?void 0:R.tamano_fuente)||14;return r===12?a.push("text-xs"):r===14?a.push("text-sm"):r===16?a.push("text-base"):r===18?a.push("text-lg"):r===20&&a.push("text-xl"),a.join(" ")}),y=()=>{switch(I.value){case"usuarios":return"Gestionar usuarios del sistema CICIT";case"cursos":return"Administrar cursos y certificaciones";case"pagos":return"Gestionar pagos e inscripciones";case"reportes":return"Generar reportes y estadísticas";case"certificados":return"Gestión de certificados y diplomas";case"estadisticas":return"Estadísticas avanzadas del sistema";case"tipos-participante":return"Configurar tipos de participantes";case"gestiones":return"Gestionar gestiones académicas";default:return"Gestión del sistema CICIT"}};de(()=>{$()}),ue(()=>P.userThemeConfig,()=>{$()},{deep:!0});const $=()=>{if(P.userThemeConfig){const a=P.userThemeConfig;a.tema_id===2?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark")),document.documentElement.style.fontSize=`${a.tamano_fuente}px`,a.alto_contraste?(document.documentElement.classList.add("high-contrast"),document.body.classList.add("high-contrast")):(document.documentElement.classList.remove("high-contrast"),document.body.classList.remove("high-contrast")),document.documentElement.style.setProperty("--theme-applied","true")}},C=a=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),_=a=>new Date(a).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"});return de(()=>{const a=localStorage.getItem("activeDashboardSection");if(a)switch(localStorage.removeItem("activeDashboardSection"),a){case"cursos":D("cursos","Gestión de Cursos");break;case"tipos-participante":D("tipos-participante","Tipos de Participante");break;case"gestiones":D("gestiones","Gestiones");break}}),(a,r)=>(g(),m(Q,null,[t(s(qe),{title:"Dashboard - Responsable CICIT"}),t(Ve,{breadcrumbs:A,title:"Dashboard Responsable"},{default:l(()=>[e("div",{class:M(["space-y-1",b.value])},[e("div",jr,[e("div",null,[e("h1",Dr,i(L.value),1),e("p",Pr,i(I.value==="dashboard"?"Bienvenido al panel de control del sistema CICIT":y()),1)]),e("div",Lr,[I.value!=="dashboard"?(g(),m("button",{key:0,onClick:r[0]||(r[0]=k=>D("dashboard","Dashboard del Responsable")),class:"inline-flex items-center px-3 py-1 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"}," ← Volver al Dashboard ")):T("",!0)])]),e("div",Rr,[I.value==="dashboard"?(g(),m("div",Nr,[e("div",Vr,[t(s(E),{class:"border-l-4 border-l-blue-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[1]||(r[1]=[v("Total Usuarios")])),_:1,__:[1]}),t(s(ae),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",zr,i(a.estadisticas.total_usuarios),1),r[2]||(r[2]=e("p",{class:"text-xs text-muted-foreground"}," Usuarios activos del sistema ",-1))]),_:1,__:[2]})]),_:1}),t(s(E),{class:"border-l-4 border-l-green-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[3]||(r[3]=[v("Cursos Totales")])),_:1,__:[3]}),t(s(be),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",qr,i(a.estadisticas.total_cursos),1),e("p",Fr,[e("span",Gr,i(a.estadisticas.cursos_activos),1),r[4]||(r[4]=v(" activos actualmente "))])]),_:1})]),_:1}),t(s(E),{class:"border-l-4 border-l-purple-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[5]||(r[5]=[v("Certificados")])),_:1,__:[5]}),t(s($e),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",Br,i(a.estadisticas.certificados_emitidos),1),r[6]||(r[6]=e("p",{class:"text-xs text-muted-foreground"}," Certificados emitidos totales ",-1))]),_:1,__:[6]})]),_:1}),t(s(E),{class:"border-l-4 border-l-yellow-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[7]||(r[7]=[v("Ingresos Totales")])),_:1,__:[7]}),t(s(we),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",Or,i(C(a.estadisticas.ingresos_totales)),1),e("p",Hr,[e("span",Xr,i(C(a.estadisticas.ingresos_mes_actual)),1),r[8]||(r[8]=v(" este mes "))])]),_:1})]),_:1})]),e("div",Wr,[t(s(E),{class:"border-l-4 border-l-indigo-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[9]||(r[9]=[v("Inscripciones")])),_:1,__:[9]}),t(s(ie),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",Kr,i(a.estadisticas.total_inscripciones),1),e("p",Yr,[e("span",Zr,i(a.estadisticas.inscripciones_mes_actual),1),r[10]||(r[10]=v(" este mes "))])]),_:1})]),_:1}),t(s(E),{class:"border-l-4 border-l-orange-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[11]||(r[11]=[v("Pendientes")])),_:1,__:[11]}),t(s(Je),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",Jr,i(a.estadisticas.preinscripciones_pendientes),1),r[12]||(r[12]=e("p",{class:"text-xs text-muted-foreground"}," Preinscripciones por revisar ",-1))]),_:1,__:[12]})]),_:1}),t(s(E),{class:"border-l-4 border-l-cyan-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[13]||(r[13]=[v("Visitas Hoy")])),_:1,__:[13]}),t(s(Ue),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",Qr,i(a.estadisticas.visitas_hoy),1),e("p",ea,[e("span",ta,i(a.estadisticas.visitas_mes),1),r[14]||(r[14]=v(" este mes "))])]),_:1})]),_:1}),t(s(E),{class:"border-l-4 border-l-rose-500"},{default:l(()=>[t(s(G),{class:"flex flex-row items-center justify-between space-y-0 pb-1"},{default:l(()=>[t(s(B),{class:"text-xs font-medium"},{default:l(()=>r[15]||(r[15]=[v("Participantes")])),_:1,__:[15]}),t(s(ye),{class:"h-3 w-3 text-muted-foreground"})]),_:1}),t(s(S),{class:"pt-1"},{default:l(()=>[e("div",sa,i(a.estadisticas.total_participantes),1),r[16]||(r[16]=e("p",{class:"text-xs text-muted-foreground"}," Total participantes registrados ",-1))]),_:1,__:[16]})]),_:1})]),e("div",oa,[t(s(E),null,{default:l(()=>[t(s(G),{class:"pb-2"},{default:l(()=>[t(s(B),{class:"flex items-center gap-2 text-sm"},{default:l(()=>[t(s(ae),{class:"h-4 w-4"}),r[17]||(r[17]=v(" Distribución de Participantes "))]),_:1,__:[17]}),t(s(ce),{class:"text-xs"},{default:l(()=>r[18]||(r[18]=[v(" Participantes registrados por tipo ")])),_:1,__:[18]})]),_:1}),t(s(S),{class:"pt-2"},{default:l(()=>[e("div",ra,[(g(!0),m(Q,null,te(a.estadisticas.participantes_por_tipo||[],k=>(g(),m("div",{key:k.tipo,class:"flex items-center justify-between"},[e("div",aa,[r[19]||(r[19]=e("div",{class:"h-2 w-2 rounded-full bg-blue-500"},null,-1)),e("span",la,i(k.tipo),1)]),e("div",ia,[e("span",da,i(k.total),1),t(xe,{variant:"secondary",class:"text-xs"},{default:l(()=>[v(i(Math.round(k.porcentaje))+"%",1)]),_:2},1024)])]))),128))])]),_:1})]),_:1}),t(s(E),null,{default:l(()=>[t(s(G),{class:"pb-2"},{default:l(()=>[t(s(B),{class:"flex items-center gap-2 text-sm"},{default:l(()=>[t(s(ve),{class:"h-4 w-4"}),r[20]||(r[20]=v(" Actividad Reciente "))]),_:1,__:[20]}),t(s(ce),{class:"text-xs"},{default:l(()=>r[21]||(r[21]=[v(" Últimas acciones realizadas en el sistema ")])),_:1,__:[21]})]),_:1}),t(s(S),{class:"pt-2"},{default:l(()=>[e("div",na,[(g(!0),m(Q,null,te((a.estadisticas.actividad_reciente||[]).slice(0,6),k=>(g(),m("div",{key:k.id,class:"flex items-start gap-3"},[r[22]||(r[22]=e("div",{class:"h-2 w-2 rounded-full bg-green-500 mt-1 flex-shrink-0"},null,-1)),e("div",ca,[e("p",ua,i(k.descripcion),1),e("p",ga,i(_(k.fecha)),1)])]))),128))])]),_:1})]),_:1})]),t(s(E),null,{default:l(()=>[t(s(G),{class:"pb-2"},{default:l(()=>[t(s(B),{class:"flex items-center gap-2 text-sm"},{default:l(()=>[t(s(Ce),{class:"h-4 w-4"}),r[23]||(r[23]=v(" Resumen Ejecutivo "))]),_:1,__:[23]}),t(s(ce),{class:"text-xs"},{default:l(()=>r[24]||(r[24]=[v(" Análisis general del rendimiento del CICIT ")])),_:1,__:[24]})]),_:1}),t(s(S),{class:"pt-2"},{default:l(()=>[e("div",ma,[e("div",pa,[r[25]||(r[25]=e("p",{class:"text-xs font-medium text-gray-600"},"Eficiencia de Conversión",-1)),e("p",xa,i(a.estadisticas.total_inscripciones>0?Math.round(a.estadisticas.certificados_emitidos/a.estadisticas.total_inscripciones*100):0)+"% ",1),r[26]||(r[26]=e("p",{class:"text-xs text-gray-500"},"De inscripción a certificación",-1))]),e("div",fa,[r[27]||(r[27]=e("p",{class:"text-xs font-medium text-gray-600"},"Ingreso Promedio",-1)),e("p",ba,i(C(a.estadisticas.total_inscripciones>0?a.estadisticas.ingresos_totales/a.estadisticas.total_inscripciones:0)),1),r[28]||(r[28]=e("p",{class:"text-xs text-gray-500"},"Por inscripción",-1))]),e("div",va,[r[29]||(r[29]=e("p",{class:"text-xs font-medium text-gray-600"},"Capacidad Utilizada",-1)),e("p",ya,i(a.estadisticas.total_cursos>0?Math.round(a.estadisticas.cursos_activos/a.estadisticas.total_cursos*100):0)+"% ",1),r[30]||(r[30]=e("p",{class:"text-xs text-gray-500"},"Cursos activos vs total",-1))])])]),_:1})]),_:1})])):I.value==="usuarios"?(g(),m("div",ha,[t(Ps,{usuarios:a.usuarios,userThemeConfig:a.userThemeConfig||void 0},null,8,["usuarios","userThemeConfig"])])):I.value==="cursos"?(g(),m("div",ka,[t(Ir,{cursos:{data:[],links:[],meta:{}},filters:{},tutores:[],gestiones:[],tiposParticipante:[],estadisticas:{total:6,activos:6,en_progreso:0,con_inscripciones:0},userThemeConfig:a.userThemeConfig||void 0},null,8,["userThemeConfig"])])):I.value==="pagos"?(g(),m("div",_a,[e("div",wa,[t(s(we),{class:"h-12 w-12 text-green-600 mx-auto mb-3"}),r[31]||(r[31]=e("h3",{class:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2"},"Gestión de Pagos",-1)),r[32]||(r[32]=e("p",{class:"text-green-700 dark:text-green-300"},"Módulo en desarrollo - Próximamente disponible",-1))])])):I.value==="reportes"?(g(),m("div",$a,[e("div",Ca,[t(s($e),{class:"h-12 w-12 text-purple-600 mx-auto mb-3"}),r[33]||(r[33]=e("h3",{class:"text-lg font-semibold text-purple-900 dark:text-purple-100 mb-2"},"Reportes y Estadísticas",-1)),r[34]||(r[34]=e("p",{class:"text-purple-700 dark:text-purple-300"},"Módulo en desarrollo - Próximamente disponible",-1))])])):I.value==="certificados"?(g(),m("div",Ta,[e("div",Ea,[t(s(ye),{class:"h-12 w-12 text-yellow-600 mx-auto mb-3"}),r[35]||(r[35]=e("h3",{class:"text-lg font-semibold text-yellow-900 dark:text-yellow-100 mb-2"},"Gestión de Certificados",-1)),r[36]||(r[36]=e("p",{class:"text-yellow-700 dark:text-yellow-300"},"Módulo en desarrollo - Próximamente disponible",-1))])])):I.value==="estadisticas"?(g(),m("div",Sa,[e("div",Aa,[t(s(Ce),{class:"h-12 w-12 text-indigo-600 mx-auto mb-3"}),r[37]||(r[37]=e("h3",{class:"text-lg font-semibold text-indigo-900 dark:text-indigo-100 mb-2"},"Estadísticas Avanzadas",-1)),r[38]||(r[38]=e("p",{class:"text-indigo-700 dark:text-indigo-300"},"Módulo en desarrollo - Próximamente disponible",-1))])])):I.value==="tipos-participante"?(g(),m("div",Ua,[t(Po,{userThemeConfig:a.userThemeConfig||void 0},null,8,["userThemeConfig"])])):I.value==="gestiones"?(g(),m("div",Ma,[t(Ge,{userThemeConfig:a.userThemeConfig||void 0},null,8,["userThemeConfig"])])):(g(),m("div",Ia,[e("div",ja,[t(s(ve),{class:"h-12 w-12 text-gray-600 mx-auto mb-3"}),r[39]||(r[39]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Contenido no encontrado",-1)),r[40]||(r[40]=e("p",{class:"text-gray-700 dark:text-gray-300"},"La sección solicitada no está disponible",-1))])]))])],2)]),_:1})],64))}}),rl=Me(Da,[["__scopeId","data-v-55640753"]]);export{rl as default};
