import{d as G,l as k,x as N,z as T,f as p,o as u,b as r,u as e,y as L,w as a,a as s,t as l,c as b,e as d,H as C,g as f,i as U,n as _,F as H}from"./app-DFzUMkAt.js";import{_ as X}from"./CICITLayout.vue_vue_type_script_setup_true_lang-Be0K0LYj.js";import{_ as h,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-BiLKj33t.js";import{c as J,_ as P,a as E,b as M}from"./Badge.vue_vue_type_script_setup_true_lang-CfY7Jqsz.js";import{_ as B}from"./index-BuqXecTy.js";import{_ as x,a as v}from"./Label.vue_vue_type_script_setup_true_lang-DdriRt7G.js";import{C as K,a as Q}from"./circle-x-NDpzye7q.js";import{U as W,I as D,M as Y,P as Z,S as ee,E as A}from"./user-BwN3aEFF.js";import{C as te}from"./calendar-Dv5jFsuy.js";import{S as R}from"./save-DF5EwUr2.js";import{E as I}from"./eye-COITgx8b.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Primitive-B83rKbs4.js";import"./useForwardExpose-yBnb5Qo4.js";import"./createLucideIcon-iuQ0M6e2.js";const re={class:"space-y-6"},oe={class:"flex items-start justify-between"},ae={class:"flex items-center space-x-4"},le={class:"h-16 w-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold"},ie={class:"text-3xl font-bold text-gray-900 dark:text-white"},ne={class:"flex items-center gap-3 mt-1"},de={class:"text-gray-600 dark:text-gray-400"},ue={class:"grid gap-6 lg:grid-cols-3"},me={class:"space-y-3"},pe={class:"flex items-center gap-3"},fe={class:"text-sm text-gray-900 dark:text-white"},ce={class:"flex items-center gap-3"},_e={class:"text-sm text-gray-900 dark:text-white"},xe={key:0,class:"flex items-center gap-3"},ve={class:"text-sm text-gray-900 dark:text-white"},ge={key:1,class:"flex items-center gap-3"},ye={class:"text-sm text-gray-900 dark:text-white"},we={class:"flex items-center gap-3"},be={class:"text-sm text-gray-900 dark:text-white"},Ce={class:"flex items-center gap-3"},Ve={class:"text-sm text-gray-900 dark:text-white"},ke={class:"lg:col-span-2 space-y-6"},he={class:"grid gap-4 md:grid-cols-2"},Se={key:0,class:"text-sm text-red-600 mt-1"},Pe={key:0,class:"text-sm text-red-600 mt-1"},Ee={key:0,class:"text-sm text-red-600 mt-1"},Ae={class:"grid gap-4 md:grid-cols-2"},Ie={key:0,class:"text-sm text-red-600 mt-1"},$e={key:0,class:"text-sm text-red-600 mt-1"},Ne={class:"flex justify-end"},Te={class:"relative mt-1"},Ue={key:0,class:"text-sm text-red-600 mt-1"},Me={class:"relative mt-1"},Be={key:0,class:"text-sm text-red-600 mt-1"},De={class:"relative mt-1"},Re={key:0,class:"text-sm text-red-600 mt-1"},qe={class:"flex justify-end"},ze=G({__name:"Edit",props:{usuario:{}},setup(q){const c=q,z=[{title:"Dashboard",href:"/dashboard"},{title:"Mi Perfil",href:"#"}],g=k(!1),y=k(!1),w=k(!1),o=N({nombre:c.usuario.nombre,apellido:c.usuario.apellido,email:c.usuario.email,telefono:c.usuario.telefono||"",carnet:c.usuario.carnet||""}),i=N({current_password:"",password:"",password_confirmation:""}),V=T(()=>c.usuario.activo?{text:"Activo",variant:"default",icon:K,color:"text-green-600"}:{text:"Inactivo",variant:"destructive",icon:Q,color:"text-red-600"}),$=T(()=>({RESPONSABLE:"Responsable",ADMINISTRATIVO:"Administrativo",TUTOR:"Tutor",PARTICIPANTE:"Participante"})[c.usuario.rol]||c.usuario.rol),j=m=>new Date(m).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=()=>{o.put("/profile",{preserveScroll:!0,onSuccess:()=>{},onError:()=>{}})},O=()=>{i.put("/profile/password",{preserveScroll:!0,onSuccess:()=>{i.reset()},onError:()=>{}})};return(m,t)=>(u(),p(H,null,[r(e(L),{title:"Mi Perfil - CICIT"}),r(X,{breadcrumbs:z,title:"Mi Perfil"},{default:a(()=>[s("div",re,[s("div",oe,[s("div",ae,[s("div",le,l(m.usuario.nombre.charAt(0))+l(m.usuario.apellido.charAt(0)),1),s("div",null,[s("h1",ie,l(m.usuario.nombre)+" "+l(m.usuario.apellido),1),s("div",ne,[s("p",de,l($.value),1),r(J,{variant:V.value.variant,class:"flex items-center gap-1"},{default:a(()=>[(u(),b(C(V.value.icon),{class:"h-3 w-3"})),d(" "+l(V.value.text),1)]),_:1},8,["variant"])])])])]),s("div",ue,[r(e(h),{class:"lg:col-span-1"},{default:a(()=>[r(e(P),null,{default:a(()=>[r(e(E),{class:"flex items-center gap-2"},{default:a(()=>[r(e(W),{class:"h-5 w-5"}),t[11]||(t[11]=d(" Información Personal "))]),_:1,__:[11]})]),_:1}),r(e(S),{class:"space-y-4"},{default:a(()=>[s("div",me,[s("div",pe,[r(e(D),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[12]||(t[12]=s("p",{class:"text-sm font-medium text-gray-600"},"Registro",-1)),s("p",fe,l(m.usuario.registro),1)])]),s("div",ce,[r(e(Y),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[13]||(t[13]=s("p",{class:"text-sm font-medium text-gray-600"},"Email",-1)),s("p",_e,l(m.usuario.email),1)])]),m.usuario.telefono?(u(),p("div",xe,[r(e(Z),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[14]||(t[14]=s("p",{class:"text-sm font-medium text-gray-600"},"Teléfono",-1)),s("p",ve,l(m.usuario.telefono),1)])])):f("",!0),m.usuario.carnet?(u(),p("div",ge,[r(e(D),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[15]||(t[15]=s("p",{class:"text-sm font-medium text-gray-600"},"Carnet",-1)),s("p",ye,l(m.usuario.carnet),1)])])):f("",!0),s("div",we,[r(e(ee),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[16]||(t[16]=s("p",{class:"text-sm font-medium text-gray-600"},"Rol",-1)),s("p",be,l($.value),1)])]),s("div",Ce,[r(e(te),{class:"h-4 w-4 text-gray-500"}),s("div",null,[t[17]||(t[17]=s("p",{class:"text-sm font-medium text-gray-600"},"Miembro desde",-1)),s("p",Ve,l(j(m.usuario.created_at)),1)])])])]),_:1})]),_:1}),s("div",ke,[r(e(h),null,{default:a(()=>[r(e(P),null,{default:a(()=>[r(e(E),null,{default:a(()=>t[18]||(t[18]=[d("Actualizar Información Personal")])),_:1,__:[18]}),r(e(M),null,{default:a(()=>t[19]||(t[19]=[d(" Modifica tu información personal básica. ")])),_:1,__:[19]})]),_:1}),r(e(S),null,{default:a(()=>[s("form",{onSubmit:U(F,["prevent"]),class:"space-y-4"},[s("div",he,[s("div",null,[r(e(x),{for:"nombre"},{default:a(()=>t[20]||(t[20]=[d("Nombre")])),_:1,__:[20]}),r(e(v),{id:"nombre",modelValue:e(o).nombre,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).nombre=n),type:"text",required:"",class:_(["mt-1",{"border-red-500":e(o).errors.nombre}])},null,8,["modelValue","class"]),e(o).errors.nombre?(u(),p("p",Se,l(e(o).errors.nombre),1)):f("",!0)]),s("div",null,[r(e(x),{for:"apellido"},{default:a(()=>t[21]||(t[21]=[d("Apellido")])),_:1,__:[21]}),r(e(v),{id:"apellido",modelValue:e(o).apellido,"onUpdate:modelValue":t[1]||(t[1]=n=>e(o).apellido=n),type:"text",required:"",class:_(["mt-1",{"border-red-500":e(o).errors.apellido}])},null,8,["modelValue","class"]),e(o).errors.apellido?(u(),p("p",Pe,l(e(o).errors.apellido),1)):f("",!0)])]),s("div",null,[r(e(x),{for:"email"},{default:a(()=>t[22]||(t[22]=[d("Email")])),_:1,__:[22]}),r(e(v),{id:"email",modelValue:e(o).email,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).email=n),type:"email",required:"",class:_(["mt-1",{"border-red-500":e(o).errors.email}])},null,8,["modelValue","class"]),e(o).errors.email?(u(),p("p",Ee,l(e(o).errors.email),1)):f("",!0)]),s("div",Ae,[s("div",null,[r(e(x),{for:"telefono"},{default:a(()=>t[23]||(t[23]=[d("Teléfono (opcional)")])),_:1,__:[23]}),r(e(v),{id:"telefono",modelValue:e(o).telefono,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).telefono=n),type:"tel",class:_(["mt-1",{"border-red-500":e(o).errors.telefono}])},null,8,["modelValue","class"]),e(o).errors.telefono?(u(),p("p",Ie,l(e(o).errors.telefono),1)):f("",!0)]),s("div",null,[r(e(x),{for:"carnet"},{default:a(()=>t[24]||(t[24]=[d("Carnet (opcional)")])),_:1,__:[24]}),r(e(v),{id:"carnet",modelValue:e(o).carnet,"onUpdate:modelValue":t[4]||(t[4]=n=>e(o).carnet=n),type:"text",class:_(["mt-1",{"border-red-500":e(o).errors.carnet}])},null,8,["modelValue","class"]),e(o).errors.carnet?(u(),p("p",$e,l(e(o).errors.carnet),1)):f("",!0)])]),s("div",Ne,[r(e(B),{type:"submit",disabled:e(o).processing,class:"flex items-center gap-2"},{default:a(()=>[r(e(R),{class:"h-4 w-4"}),d(" "+l(e(o).processing?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),r(e(h),null,{default:a(()=>[r(e(P),null,{default:a(()=>[r(e(E),null,{default:a(()=>t[25]||(t[25]=[d("Cambiar Contraseña")])),_:1,__:[25]}),r(e(M),null,{default:a(()=>t[26]||(t[26]=[d(" Actualiza tu contraseña para mantener tu cuenta segura. ")])),_:1,__:[26]})]),_:1}),r(e(S),null,{default:a(()=>[s("form",{onSubmit:U(O,["prevent"]),class:"space-y-4"},[s("div",null,[r(e(x),{for:"current_password"},{default:a(()=>t[27]||(t[27]=[d("Contraseña Actual")])),_:1,__:[27]}),s("div",Te,[r(e(v),{id:"current_password",modelValue:e(i).current_password,"onUpdate:modelValue":t[5]||(t[5]=n=>e(i).current_password=n),type:g.value?"text":"password",required:"",class:_({"border-red-500":e(i).errors.current_password})},null,8,["modelValue","type","class"]),s("button",{type:"button",onClick:t[6]||(t[6]=n=>g.value=!g.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[(u(),b(C(g.value?e(A):e(I)),{class:"h-4 w-4 text-gray-500"}))])]),e(i).errors.current_password?(u(),p("p",Ue,l(e(i).errors.current_password),1)):f("",!0)]),s("div",null,[r(e(x),{for:"password"},{default:a(()=>t[28]||(t[28]=[d("Nueva Contraseña")])),_:1,__:[28]}),s("div",Me,[r(e(v),{id:"password",modelValue:e(i).password,"onUpdate:modelValue":t[7]||(t[7]=n=>e(i).password=n),type:y.value?"text":"password",required:"",class:_({"border-red-500":e(i).errors.password})},null,8,["modelValue","type","class"]),s("button",{type:"button",onClick:t[8]||(t[8]=n=>y.value=!y.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[(u(),b(C(y.value?e(A):e(I)),{class:"h-4 w-4 text-gray-500"}))])]),e(i).errors.password?(u(),p("p",Be,l(e(i).errors.password),1)):f("",!0)]),s("div",null,[r(e(x),{for:"password_confirmation"},{default:a(()=>t[29]||(t[29]=[d("Confirmar Nueva Contraseña")])),_:1,__:[29]}),s("div",De,[r(e(v),{id:"password_confirmation",modelValue:e(i).password_confirmation,"onUpdate:modelValue":t[9]||(t[9]=n=>e(i).password_confirmation=n),type:w.value?"text":"password",required:"",class:_({"border-red-500":e(i).errors.password_confirmation})},null,8,["modelValue","type","class"]),s("button",{type:"button",onClick:t[10]||(t[10]=n=>w.value=!w.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[(u(),b(C(w.value?e(A):e(I)),{class:"h-4 w-4 text-gray-500"}))])]),e(i).errors.password_confirmation?(u(),p("p",Re,l(e(i).errors.password_confirmation),1)):f("",!0)]),s("div",qe,[r(e(B),{type:"submit",disabled:e(i).processing,class:"flex items-center gap-2"},{default:a(()=>[r(e(R),{class:"h-4 w-4"}),d(" "+l(e(i).processing?"Actualizando...":"Cambiar Contraseña"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])])])]),_:1})],64))}}),st=se(ze,[["__scopeId","data-v-b3f6e571"]]);export{st as default};
